<script setup>
import {Rocket, RocketOutline, ShareOutline} from '@vicons/ionicons5'
import {LockOutlined, EditNoteTwotone} from '@vicons/material'
import {h, onMounted, defineComponent, ref, nextTick} from "vue";
import {
  NButton,
  NGradientText,
  NTag,
  NText,
  NInput,
  useDialog,
  useLoadingBar,
  useMessage,
  useNotification
} from "naive-ui";

const dialog = useDialog();
const loadingBar = useLoadingBar()
const message = useMessage()
const notification = useNotification()

import NoteApi from '@/api/note'

onMounted(() => {
  getShareNoteAll()
})
const getShareNoteAll = () => {
  loadingBar.start()
  const obj = {
    title: searchObj.value.searchTitle,
    day: searchObj.value.searchDay,
    isExpire: searchObj.value.searchIsExpire,
    page: pagination.value.page,
    pageSize: pagination.value.pageSize
  }
  NoteApi.getShareNoteAll(obj).then(res => {
    if (res.data.code === 200) {
      res.data.data.record.forEach(item => {
        item.tags = (item.tags === null || item.tags === '') ? item.tags : item.tags.split(',')
      })
      shareData.value = res.data.data.record
      total.value = res.data.data.total
      pageCount.value = Math.ceil(total.value / pagination.value.pageSize)
      loadingBar.finish()
    } else {
      message.error(res.data.message)
      loadingBar.error()
    }
  }).catch(err => {
    message.error(err)
    loadingBar.error()
  })
}
const current = computed(() => {
  if (total.value < 5) {
    return 1
  } else if (total.value >= 5 && total.value < 10) {
    return 2
  } else if (total.value >= 10 && total.value < 15) {
    return 3
  } else {
    return 4
  }
})  //stepsÂΩìÂâç‰ΩçÁΩÆ
const tableHead = ref([
  {
    type: "selection",
  },
  {
    key: 'serialNumber',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'Â∫èÂè∑'}
      )
    }
  },
  {
    key: 'title',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'error'
          },
          {default: () => 'Ê†áÈ¢ò'}
      )
    },
  },
  {
    key: 'tags',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'warning'
          },
          {default: () => 'Ê†áÁ≠æ'}
      )
    },
    render(row) {
      if (Array.isArray(row.tags)) {
        return row.tags.map((tagKey) => {
          return h(
              NTag,
              {
                style: {
                  marginRight: '3px',
                  marginTop:'3px'
                },
                type: 'info',
                bordered: false
              },
              {
                default: () => tagKey
              }
          )
        })
      } else {
        // Â§ÑÁêÜ row.tags ‰∏çÊòØÊï∞ÁªÑÁöÑÊÉÖÂÜµ
        return null; // ÊàñËÄÖËøîÂõûÂÖ∂‰ªñÈªòËÆ§ÂÄº
      }
    }
  },
  {
    key: 'shareLink',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'ÂàÜ‰∫´ÈìæÊé•'}
      )
    },
    render(row) {
      return h(
          NButton,
          {
            text: true,
            size: "small",
            onClick: () => {
              window.open(row.shareLink)
            }
          },
          {default: () => row.shareLink}
      );
    }
  },
  {
    key: 'likeNumber',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'error'
          },
          {default: () => 'ÁÇπËµûÊï∞'}
      )
    },
  },
  {
    key: 'commentNumber',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'warning'
          },
          {default: () => 'ËØÑËÆ∫Êï∞'}
      )
    },
  },
  {
    key: 'visitNumber',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'warning'
          },
          {default: () => 'ËÆøÈóÆÈáè'}
      )
    },
  },
  {
    key: 'shareTime',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'ÂàÜ‰∫´Êó∂Èó¥'}
      )
    },
  },
  {
    key: 'shareDay',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'ÂàÜ‰∫´Â§©Êï∞'}
      )
    },
    render(row) {
      return h(
          NText,
          {
            size: "small"
          },
          {
            default: () => {
              switch (row.shareDay) {
                case -1:
                  return 'Ê∞∏‰πÖ';
                case 7:
                  return '7Â§©';
                case 30:
                  return '30Â§©';
                case 365:
                  return '1Âπ¥'
              }
            }
          }
      )
    }
  },
  {
    key: 'isShareExpire',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'ÊòØÂê¶ËøáÊúü'}
      )
    },
    render(row) {
      return h(
          NButton,
          {
            type: 'info',
            size: "small",
            onClick: () => {
            }
          },
          {
            default: () => {
              if (row.isShareExpire === 1) {
                return 'ËøáÊúü'
              } else {
                return 'Êú™ËøáÊúü'
              }
            }
          }
      );
    }
  },
  {
    key: 'actions',
    align: 'center',
    title(column) {
      return h(
          NGradientText,
          {
            size: '16',
            type: 'info'
          },
          {default: () => 'Êìç‰Ωú'}
      )
    },
    render(record) {
      return [
        h(NButton, {
              type: 'error',
              style: {marginRight: '10px'},
              onClick: () => {
                shareNoteLockObj.value.noteShareId = record.noteShareId
                if (record.isNeedPassword === 1) {
                  delShareNoteLockShowModal.value = true
                } else {
                  //Âä†ÈîÅ
                  addShareNoteLockShowModal.value = true
                }
              }
            },
            {
              default: () => {
                if (record.isNeedPassword === 1) {
                  return 'Ëß£ÈîÅ'
                } else {
                  return 'Âä†ÈîÅ'
                }
              }
            }
        ),
        h(NButton, {
              type: 'info',
              style: {marginRight: '10px', marginTop: '5px'},
              onClick: () => {
                updateShareDayShow(record.shareDay)
                updateShareDayNoteShareId.value = record.noteShareId
                updateShareDayShowModal.value = true
              }
            },
            {default: () => '‰øÆÊîπÂàÜ‰∫´Â§©Êï∞'}
        ),
        h(NButton, {
              type: 'warning',
              style: {marginRight: '10px', marginTop: '5px'},
              onClick: () => {
                drawerShow.value = true
                drawerObj.value.title = record.title
                drawerObj.value.content = record.content
              }
            },
            {default: () => 'È¢ÑËßà'}
        ),
        h(NButton, {
              type: 'success',
              style: {marginRight: '10px', marginTop: '5px'},
              onClick: () => {
                dialog.warning({
                  maskClosable: false,
                  title: "Ë≠¶Âëä",
                  content: "‰Ω†Á°ÆÂÆöÂèñÊ∂àÂàÜ‰∫´ËØ•Á¨îËÆ∞‰πàÔºü",
                  positiveText: "Á°ÆÂÆö",
                  negativeText: "ÂèñÊ∂à",
                  onPositiveClick: () => {
                    loadingBar.start()
                    NoteApi.cancelShareNote(record.noteShareId).then(res => {
                      if (res.data.code === 200) {
                        getShareNoteAll()
                        message.success('ÂèñÊ∂àÂàÜ‰∫´ÊàêÂäüüòä')
                        loadingBar.finish()
                      } else {
                        message.error(res.data.message)
                        loadingBar.error()
                      }
                    }).catch(err => {
                      message.error(err)
                      loadingBar.error()
                    })
                  },
                  onNegativeClick: () => {
                  }
                });
              }
            },
            {default: () => 'ÂèñÊ∂àÂàÜ‰∫´'}
        ),

      ]
    }
  }
])
const shareData = ref()
const rowKey = (row) => {
  return row.noteShareId
}
const checkedRowKeysRef = ref([]);
const handleCheck = (rowKeys) => {
  checkedRowKeysRef.value = rowKeys;
}
const drawerShow = ref(false)
const drawerObj = ref({
  title: '',
  content: ''
})
//=======================================ÊêúÁ¥¢BEGIN================================================
const searchDayOptions = [
  {
    label: 'Êó†',
    value: -888
  },
  {
    label: "7Â§©",
    value: 7
  },
  {
    label: "30Â§©",
    value: 30
  },
  {
    label: "1Âπ¥",
    value: 365
  },
  {
    label: 'Ê∞∏‰πÖ',
    value: -1
  }
]
const searchIsExpireOptions = [
  {
    label: 'Êó†',
    value: -888
  },
  {
    label: 'Êú™ËøáÊúü',
    value: 0
  },
  {
    label: 'ËøáÊúü',
    value: 1
  }
]
const searchObj = ref({
  searchTitle: '',
  searchDay: null,  //ÂàÜ‰∫´Â§©Êï∞
  searchIsExpire: null //ÊòØÂê¶ËøáÊúü
})
const searchShareNote = () => {
  getShareNoteAll()
}
//=======================================ÊêúÁ¥¢END================================================

//=======================================ÂàÜÈ°µBEGIN================================================
const pagination = ref({
  page: 1,
  pageSize: 2,
})
const total = ref(null) //ÊÄªËÆ∞ÂΩïÊï∞
const pageCount = ref(0) //È°µÊï∞
const pageChange = (page) => {
  pagination.value.page = page
  getShareNoteAll()
}
//=======================================ÂàÜÈ°µEND================================================

//=======================================‰øÆÊîπÂàÜ‰∫´Â§©Êï∞BEGIN================================================
const updateShareDayShow = (shareDay) => {
  oldShareDayValue.value = shareDay
  switch (shareDay) {
    case -1:
      oldShareDayTextValue.value = 'Ê∞∏‰πÖ'
      return
    case 7:
      oldShareDayTextValue.value = '7Â§©'
      return
    case 30:
      oldShareDayTextValue.value = '30Â§©'
      return
    case 365:
      oldShareDayTextValue.value = '1Âπ¥'
      return
  }
}
const oldShareDayValue = ref(null)
const oldShareDayTextValue = ref(null)
const updateShareDayNoteShareId = ref(null)
const updateShareDayShowModal = ref(false)
const updateShareDayOptions = [
  {
    label: "7Â§©",
    value: 7
  },
  {
    label: "30Â§©",
    value: 30
  },
  {
    label: "1Âπ¥",
    value: 365
  },
  {
    label: 'Ê∞∏‰πÖ',
    value: -1
  }
]
const updateShareDayValue = ref(null)
const updateShareDayConfirm = () => {
  if (updateShareDayValue.value === null) {
    message.warning('ËØ∑ÈÄâÊã©ÂàÜ‰∫´Â§©Êï∞')
  } else if (oldShareDayValue.value === updateShareDayValue.value && updateShareDayValue.value === -1) {
    message.warning('ÂΩìÂâçÊòØÂ∑≤ÁªèÊòØÊ∞∏‰πÖ‰∫ÜÂì¶')
  } else {
    loadingBar.start()
    const obj = {
      noteShareId: updateShareDayNoteShareId.value,
      shareDay: updateShareDayValue.value
    }
    NoteApi.updateShareNoteDay(obj).then(res => {
      if (res.data.code === 200) {
        updateShareDayCancel()
        message.success('Êõ¥Êñ∞ÊàêÂäü')
        loadingBar.finish()
        getShareNoteAll()
      } else {
        message.error(res.data.message)
        loadingBar.error()
      }
    }).catch(err => {
      message.error(err)
      loadingBar.error()
    })
  }
}
const updateShareDayCancel = () => {
  oldShareDayValue.value = null
  updateShareDayValue.value = null
  updateShareDayNoteShareId.value = null
  updateShareDayShowModal.value = false
}
//=======================================‰øÆÊîπÂàÜ‰∫´Â§©Êï∞END================================================


//=======================================ËÆøÈóÆÂØÜÁ†ÅÈîÅBEGIN================================================
const noSideSpace = (value) => !value.startsWith(" ") && !value.endsWith(" ") //‰∏çËÉΩËæìÂÖ•Á©∫Ê†º
//Âä†ÈîÅ
const shareNoteLockObj = ref({
  noteShareId: null,
})
const addShareNoteLockObj = ref({
  lockPassword: null,
  confirmLockPassword: null
})
const addShareNoteLockShowModal = ref(false)
const addShareNoteLockConfirm = () => {
  if (addShareNoteLockObj.value.lockPassword === null || addShareNoteLockObj.value.confirmLockPassword === null) {
    notification.warning({
      content: "ÊèêÁ§∫",
      meta: "ÂØÜÁ†ÅÂíåÁ°ÆËÆ§ÂØÜÁ†ÅÈÉΩ‰∏çËÉΩ‰∏∫Á©∫üòä",
      duration: 4000,
    })
  } else if (addShareNoteLockObj.value.lockPassword !== addShareNoteLockObj.value.confirmLockPassword) {
    notification.warning({
      content: "ÊèêÁ§∫",
      meta: "ÂØÜÁ†ÅÂíåÁ°ÆËÆ§ÂØÜÁ†ÅÈúÄË¶Å‰øùÊåÅ‰∏ÄËá¥ü§î",
      duration: 4000,
    })
  } else {
    loadingBar.start()
    const obj = {
      noteShareId: shareNoteLockObj.value.noteShareId,
      lockPassword: addShareNoteLockObj.value.lockPassword
    }
    NoteApi.addShareNoteLock(obj).then(res => {
      if (res.data.code === 200) {
        //Ê∑ªÂä†ÊàêÂäü
        addShareNoteLockCancel()
        message.success('Ê∑ªÂä†ËÆøÈóÆÂØÜÁ†ÅÊàêÂäüüòõ')
        loadingBar.finish()
        getShareNoteAll()
      } else {
        message.error(res.data.message)
        loadingBar.error()
      }
    }).catch(err => {
      message.error(err)
      loadingBar.error()
    })
  }
}
const addShareNoteLockCancel = () => {
  shareNoteLockObj.value.noteShareId = null
  addShareNoteLockObj.value.lockPassword = null
  addShareNoteLockObj.value.confirmLockPassword = null
  addShareNoteLockShowModal.value = false
}
//Âà†ÈîÅ
const delShareNoteLockShowModal = ref(false)
const delShareNoteLockPassword = ref(null)
const delShareNoteLockConfirm = () => {
  if (delShareNoteLockPassword.value === null) {
    notification.warning({
      content: "ÊèêÁ§∫",
      meta: "ÂØÜÁ†Å‰∏çËÉΩ‰∏∫Á©∫üòä",
      duration: 4000,
    })
  } else {
    loadingBar.start()
    const obj = {
      noteShareId: shareNoteLockObj.value.noteShareId,
      lockPassword: delShareNoteLockPassword.value
    }
    NoteApi.delShareNoteLock(obj).then(res => {
      if (res.data.code === 200) {
        //ÂèñÊ∂àÊàêÂäü
        delShareNoteLockCancel()
        message.success('ÂèñÊ∂àÂàÜ‰∫´ÂØÜÁ†ÅÊàêÂäüüòò')
        loadingBar.finish()
        getShareNoteAll()
      } else {
        message.error(res.data.message)
        loadingBar.error()
      }
    }).catch(err => {
      message.error(err)
      loadingBar.error()
    })
  }
}
const delShareNoteLockCancel = () => {
  shareNoteLockObj.value.noteShareId = null
  delShareNoteLockPassword.value = null
  delShareNoteLockShowModal.value = false
}
//=======================================ËÆøÈóÆÂØÜÁ†ÅÈîÅEND================================================

//=======================================Âè≥ÈîÆÊòæÁ§∫ËèúÂçïBEGIN================================================
const rightMouseOptions = ref([
  {
    label: () => h("span", {style: {color: "#4098fc"}}, "ÁºñËæë"),
    key: "edit"
  },
  {
    label: () => h("span", {style: {color: "gray"}}, "ÂèñÊ∂à"),
    key: "cancel"
  }
]);

const showDropdownRef = ref(false)
const xRef = ref(0);
const yRef = ref(0);
//ÈÄâÊã©ÊåâÈíÆ
const handleSelect = (key) => {
  showDropdownRef.value = false;
  if (key === 'edit') {
    editShowModal.value = true
  } else if (key === 'cancel') {
    editShareNoteObj.value = {}
    editShowModal.value = false
  } else {

  }
}
const onClickoutside = () => {
  showDropdownRef.value = false
}
const rowProps = (row) => {
  return {
    onContextmenu: (e) => {
      editShareNoteObj.value = row
      e.preventDefault();
      showDropdownRef.value = false;
      nextTick().then(() => {
        showDropdownRef.value = true;
        xRef.value = e.clientX;
        yRef.value = e.clientY;
      });
    }
  };
}
const editShowModal = ref(false)
//ËÆ∞ÂΩïÂè≥ÈîÆÁºñËæëÂØπË±°
const editShareNoteObj = ref({})
//Á°ÆËÆ§
const editShareNoteConfirm = () => {
  if (editShareNoteObj.value.title === '' || editShareNoteObj.value.tags.length === 0) {
    notification.warning({
      title: 'ÊèêÁ§∫',
      description: 'ÂàÜ‰∫´Á¨îËÆ∞',
      content: 'Ê†áÈ¢òÂíåÊ†áÈ¢òÈÉΩ‰∏çËÉΩ‰∏∫Á©∫ü§†',
    })
  } else {
    loadingBar.start()
    const obj = {
      noteShareId: editShareNoteObj.value.noteShareId,
      title: editShareNoteObj.value.title,
      tags: editShareNoteObj.value.tags.toString(),
      remark: editShareNoteObj.value.remark
    }
    NoteApi.updateShareNoteContent(obj).then(res => {
      if (res.data.code === 200) {
        editShareNoteCancel()
        message.success('Êõ¥Êñ∞ÊàêÂäü')
        loadingBar.finish()
        getShareNoteAll()
      } else {
        message.error(res.data.message)
        loadingBar.error()
      }
    }).catch(err => {
      message.error(err)
      loadingBar.error()
    })
  }
}
//ÂèñÊ∂à
const editShareNoteCancel = () => {
  editShareNoteObj.value = {}
  editShowModal.value = false
}
//=======================================Âè≥ÈîÆÊòæÁ§∫ËèúÂçïEND================================================

</script>

<template>
  <n-space vertical style="margin: 20px auto;width: 95%">
    <n-steps style="width: 90%;margin: 30px auto" v-model:current="current">
      <template #finish-icon>
        <n-icon :component="Rocket"></n-icon>
      </template>
      <n-step
          disabled
          title="LEVEL ONE"
          description="ÂàÜ‰∫´ÁöÑÊï∞ÈáèËøáÂ∞ëÂì¶"
      >
        <template #icon>
          <n-icon :component="RocketOutline"></n-icon>
        </template>
      </n-step>
      <n-step
          disabled
          title="LEVEL TWO"
          description="ÂàÜ‰∫´ÁöÑÊï∞Èáè‰∏ÄËà¨Âì¶"
      >
        <template #icon>
          <n-icon :component="RocketOutline"></n-icon>
        </template>
      </n-step>

      <n-step
          disabled
          title="LEVEL THREE"
          description="ÂàÜ‰∫´ÁöÑÊï∞ÈáèËæÉÂ§öÂì¶"
      >
        <template #icon>
          <n-icon :component="RocketOutline"></n-icon>
        </template>
      </n-step>

      <n-step
          disabled
          title="LEVEL FOUR"
          description="ÂàÜ‰∫´ÁöÑÊï∞ÈáèÂæàÂ§öÂì¶ÔºàËææÂà∞ËØ•Á≠âÁ∫ßÔºåÊúâÁâπÊÆäÂ•ñÂä±Âì¶Ôºâ"
      >
        <template #icon>
          <n-icon :component="RocketOutline"></n-icon>
        </template>
      </n-step>
    </n-steps>
    <n-space justify="end">
      <n-input placeholder="ËØ∑ËæìÂÖ•ÊêúÁ¥¢Êù°‰ª∂(Ê†áÈ¢ò)" v-model:value="searchObj.searchTitle"></n-input>
      <n-select style="width: 150px" placeholder="ËØ∑ÈÄâÊã©ÂàÜ‰∫´Â§©Êï∞"
                :options="searchDayOptions" v-model:value="searchObj.searchDay"/>
      <n-select style="width: 150px" placeholder="ÊòØÂê¶ËøáÊúü"
                :options="searchIsExpireOptions" v-model:value="searchObj.searchIsExpire"/>
      <n-button type="success" style="width: 80px" @click="searchShareNote">ÊêúÁ¥¢</n-button>
    </n-space>
    <n-data-table
        :columns="tableHead"
        :data="shareData"
        :row-key="rowKey"
        @update:checked-row-keys="handleCheck"
        :row-props="rowProps"
        :single-line="false" :striped="true"
        :bordered="false"
    >
    </n-data-table>
    <n-dropdown
        placement="bottom-start"
        trigger="manual"
        :x="xRef"
        :y="yRef"
        :options="rightMouseOptions"
        :show="showDropdownRef"
        :on-clickoutside="onClickoutside"
        @select="handleSelect"
    >
    </n-dropdown>
    <n-space justify="center">
      <n-space style="margin-top: 2px">
        <n-text style="font-size: 16px;">ÊÄªËÆ∞ÂΩïÊï∞Ôºö{{ total }}</n-text>
      </n-space>
      <n-pagination v-model:page="pagination.page"
                    :page-count="pageCount"
                    :page-size="pagination.pageSize"
                    :on-update:page="page => {
                      pageChange(page)
                    }"
                    show-quick-jumper>
        <template #goto>
          Ë∑≥Âà∞
        </template>
      </n-pagination>
      <n-space style="margin-top: 3px">
        <n-text>È°µ</n-text>
      </n-space>
    </n-space>
  </n-space>
  <!--ÊñáÁ´†ÂÜÖÂÆπÈ¢ÑËßà-->
  <n-drawer v-model:show="drawerShow" :width="480">
    <n-drawer-content :title="drawerObj.title" :native-scrollbar="false">
      <div v-html="drawerObj.content"></div>
    </n-drawer-content>
  </n-drawer>
  <!--‰øÆÊîπÂàÜ‰∫´Â§©Êï∞-->
  <n-modal v-model:show="updateShareDayShowModal"
           :mask-closable="false"
  >
    <n-card
        style="width: 400px"
        title="‰øÆÊîπÂàÜ‰∫´Êó•Êúü"
        :bordered="false"
        size="huge"
        role="dialog"
        aria-modal="true"
    >
      <template #default>
        <n-select placeholder="ÈÄâÊã©ÂàÜ‰∫´Â§©Êï∞" :options="updateShareDayOptions"
                  v-model:value="updateShareDayValue"></n-select>
      </template>
      <template #footer>
        <n-text style="display:block;">ÂΩìÂâçËØ•Á¨îËÆ∞ÁöÑÂàÜ‰∫´Â§©Êï∞ÊòØÔºö{{ oldShareDayTextValue }}</n-text>
        <n-text :depth="3">Ê≥®ÊÑèÔºö‰øÆÊîπÂêéÂ∞Ü‰ºöÈáçÊñ∞ËÆ°Êó∂ÔºÅ</n-text>
      </template>
      <template #action>
        <n-grid cols="2" :x-gap="12" style="margin-top: -30px">
          <n-gi>
            <n-button block type="success" ghost @click="updateShareDayConfirm">
              Á°ÆËÆ§
            </n-button>
          </n-gi>
          <n-gi>
            <n-button block tertiary @click="updateShareDayCancel">
              ÂèñÊ∂à
            </n-button>
          </n-gi>
        </n-grid>
      </template>

    </n-card>
  </n-modal>
  <!--Âä†ÈîÅ-->
  <n-modal v-model:show="addShareNoteLockShowModal"
           :mask-closable="false"
  >
    <n-card
        style="width: 400px"
        title="‰∏∫ÂàÜ‰∫´Á¨îËÆ∞Ê∑ªÂä†ÈîÅÂØÜÁ†Å"
        :bordered="false"
        size="huge"
        role="dialog"
        aria-modal="true"
    >
      <template #header-extra>
        <n-icon :component="LockOutlined" :size="22"></n-icon>
      </template>
      <template #default>
        <n-space vertical>
          <n-text>ÂØÜÁ†Å</n-text>
          <n-input v-model:value="addShareNoteLockObj.lockPassword" type="password" :allow-input="noSideSpace"

                   placeholder="ËæìÂÖ•ËÆøÈóÆÂØÜÁ†Å"></n-input>
          <n-text>Á°ÆËÆ§ÂØÜÁ†Å</n-text>
          <n-input v-model:value="addShareNoteLockObj.confirmLockPassword" type="password" :allow-input="noSideSpace"
                   placeholder="ËæìÂÖ•Á°ÆËÆ§ÂØÜÁ†Å"></n-input>
        </n-space>
      </template>
      <template #footer>
        <n-text :depth="3">Ê≥®ÊÑèÔºöÊ∑ªÂä†ÂØÜÁ†ÅÂêéÈúÄË¶ÅÈúÄË¶ÅÂØÜÁ†ÅËÆøÈóÆÔºÅ</n-text>
      </template>
      <template #action>
        <n-grid cols="2" :x-gap="12" style="margin-top: -30px">
          <n-gi>
            <n-button block type="success" ghost @click="addShareNoteLockConfirm">
              Á°ÆËÆ§
            </n-button>
          </n-gi>
          <n-gi>
            <n-button block tertiary @click="addShareNoteLockCancel">
              ÂèñÊ∂à
            </n-button>
          </n-gi>
        </n-grid>
      </template>

    </n-card>
  </n-modal>
  <!--Ëß£ÈîÅ-->
  <n-modal v-model:show="delShareNoteLockShowModal"
           :mask-closable="false"
  >
    <n-card
        style="width: 400px"
        title="Âà†Èô§ÂàÜ‰∫´Á¨îËÆ∞ÈîÅÂØÜÁ†Å"
        :bordered="false"
        size="huge"
        role="dialog"
        aria-modal="true"
    >
      <template #header-extra>
        <n-icon :component="LockOutlined" :size="22"></n-icon>
      </template>
      <template #default>
        <n-space vertical>
          <n-text>ÂØÜÁ†Å</n-text>
          <n-input v-model:value="delShareNoteLockPassword" type="password" :allow-input="noSideSpace"

                   placeholder="ËæìÂÖ•ËÆøÈóÆÂØÜÁ†Å"></n-input>
        </n-space>
      </template>
      <template #footer>
        <n-text :depth="3">Ê≥®ÊÑèÔºöÂà†Èô§ÂØÜÁ†ÅÂêéÂ∞ÜÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆ</n-text>
      </template>
      <template #action>
        <n-grid cols="2" :x-gap="12" style="margin-top: -30px">
          <n-gi>
            <n-button block type="success" ghost @click="delShareNoteLockConfirm">
              Á°ÆËÆ§
            </n-button>
          </n-gi>
          <n-gi>
            <n-button block tertiary @click="delShareNoteLockCancel">
              ÂèñÊ∂à
            </n-button>
          </n-gi>
        </n-grid>
      </template>

    </n-card>
  </n-modal>
  <!--ÁºñËæëÊ°ÜÊòæÁ§∫-->
  <n-modal v-model:show="editShowModal"
           :mask-closable="false"
  >
    <n-card
        style="width: 400px"
        title="ÁºñËæëÁ¨îËÆ∞‰ø°ÊÅØ"
        :bordered="false"
        size="huge"
        role="dialog"
        aria-modal="true"
    >
      <template #header-extra>
        <n-icon :component="EditNoteTwotone" :size="24" style="margin-bottom: 10px"></n-icon>
      </template>
      <template #default>
        <n-space vertical>
          <n-text>Ê†áÈ¢ò</n-text>
          <n-input v-model:value="editShareNoteObj.title" placeholder="ËæìÂÖ•ÂàÜ‰∫´Ê†áÈ¢ò"></n-input>
          <n-text>Ê†áÁ≠æ</n-text>
          <n-dynamic-tags v-model:value="editShareNoteObj.tags"/>
          <n-text>Â§áÊ≥®</n-text>
          <n-input v-model:value="editShareNoteObj.remark" type="textarea" placeholder="ËæìÂÖ•ÂàÜ‰∫´Â§áÊ≥®"></n-input>
        </n-space>
      </template>
      <template #footer>
        <n-text :depth="3">Ê≥®ÊÑèÔºöÂè™Áî®‰∫éÂàÜ‰∫´È°µÈù¢Â±ïÁ§∫ÔºÅ</n-text>
      </template>
      <template #action>
        <n-grid cols="2" :x-gap="12" style="margin-top: -30px">
          <n-gi>
            <n-button block type="success" ghost @click="editShareNoteConfirm">
              Á°ÆËÆ§
            </n-button>
          </n-gi>
          <n-gi>
            <n-button block tertiary @click="editShareNoteCancel">
              ÂèñÊ∂à
            </n-button>
          </n-gi>
        </n-grid>
      </template>

    </n-card>
  </n-modal>
</template>

<style scoped>

</style>
